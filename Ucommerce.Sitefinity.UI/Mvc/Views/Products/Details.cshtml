@model Ucommerce.Sitefinity.UI.Mvc.ViewModels.ProductDetailViewModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers
@using Telerik.Sitefinity.Services;

@if (Model != null)
{
    if (!SystemManager.IsDesignMode)
    {
        @Html.Script(Url.WidgetContent("assets/dist/javascript/moment.min.js"), "head", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/angular.min.js"), "head", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/app.js"), "head", false)
    }

    <div class="sf_cols">
        <div class="sf_colsOut sf_1col_1_100">
            <div class="sf_colsIn sf_1col_1in_100" style="margin: 0px 20px 0px 0px;">
                <div>
                    <div class="sfproductDetailsWrp">
                        <div class="sfproductDetails sfClearfix">

                            <div>
                                <div id="productImgsWrp" class="sfproductImgsWrp">
                                    <div>
                                        <div class="sfproductMainImgWrp">
                                            <a href="@Model.PrimaryImageMediaUrl" rel="fancybox" class=" sfProductTmbWrplarge">
                                                <img src="@Model.PrimaryImageMediaUrl" />
                                            </a>
                                        </div>

                                        <div class="sfproductImgsListWrp">
                                            @if (Model.Variants.Any())
                                            {
                                                <ul class="sfproductImgsList">
                                                    @foreach (var variant in Model.Variants)
                                                    {
                                                        if (!string.IsNullOrEmpty(variant.PrimaryImageMediaUrl))
                                                        {
                                                            <li class="sfproductImgWrp">
                                                                <a href="@variant.PrimaryImageMediaUrl" rel="fancybox" class="sfproductImgLnk sfProductTmbWrpthumbnail">
                                                                    <img class="sfproductImg" src="@variant.PrimaryImageMediaUrl" />
                                                                </a>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="sfproductInfoWrp">
                                <h1 class="sfproductTitle">
                                    @Model.DisplayName
                                </h1>
                                <div class="sfproductPrice">

                                    @*Beggining of Write review link section*@
                                    <div class="sfcommentsThreadRatingWrp sfcommentsThreadRatingFull sfRatingReadOnly">
                                        <div class="sfStarsWrapper"></div>
                                        <a href="#" onclick="return false;" class="sfRatingClosingText">Write a review</a>
                                    </div>
                                    @*End of Write review link section*@

                                    <div>
                                        <div>
                                            <span class="sfRegPrice">@Model.Price</span>
                                        </div>
                                    </div>
                                </div>

                                <br />

                                <div class="sfproductDescription">
                                    @Model.ShortDescription
                                </div>

                                <br />

                                <div class="sfproductInventory">
                                    <div>
                                        <div>
                                            <div class="sfProductInventoryWrp">
                                                Availability:
                                                @if (Model.AllowOrdering)
                                                {
                                                    <span class="sfProductInStock">In stock</span>
                                                }
                                                else
                                                {
                                                    <span class="sfProductOutOfStock">Out of stock</span>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Beggining of Add to cart section*@
                                <div class="sfAddToCartWidget">
                                    <div class="sfAddToCartWrp">
                                        <div>

                                            <div class="sfMessage sfTopMsg">

                                            </div>
                                            <div>
                                                <label for="ctl00_contentPlaceholder_C020_productsFrontendDetail_ctl00_ctl00_SingleItemContainer_ctrl0_addToCartWidget_ctl00_ctl00_quantity" class="sfTxtLbl">Quantity:</label>
                                                <span id="ctl00_contentPlaceholder_C020_productsFrontendDetail_ctl00_ctl00_SingleItemContainer_ctrl0_addToCartWidget_ctl00_ctl00_quantityRequiredFieldValidator" class="sfErrorWrp" style="display:none;">
                                                    <span class="sfError">
                                                        When adding product to a cart you must specify the quantity
                                                    </span>
                                                </span>
                                                <span id="ctl00_contentPlaceholder_C020_productsFrontendDetail_ctl00_ctl00_SingleItemContainer_ctrl0_addToCartWidget_ctl00_ctl00_quantityValidator" class="sfErrorWrp" style="display:none;">
                                                    <span class="sfError">
                                                        The quantity must be greater than 0 and less than 9,999.
                                                    </span>
                                                </span>
                                                <input name="ctl00$contentPlaceholder$C020$productsFrontendDetail$ctl00$ctl00$SingleItemContainer$ctrl0$addToCartWidget$ctl00$ctl00$quantity" type="text" value="1" id="ctl00_contentPlaceholder_C020_productsFrontendDetail_ctl00_ctl00_SingleItemContainer_ctrl0_addToCartWidget_ctl00_ctl00_quantity" class="sfTxt sfQuantity" />

                                                <input type="submit" name="ctl00$contentPlaceholder$C020$productsFrontendDetail$ctl00$ctl00$SingleItemContainer$ctrl0$addToCartWidget$ctl00$ctl00$addToCartButton" value="Add to cart" onclick="return false;" id="ctl00_contentPlaceholder_C020_productsFrontendDetail_ctl00_ctl00_SingleItemContainer_ctrl0_addToCartWidget_ctl00_ctl00_addToCartButton" class="sfAddToCartBtn" />
                                            </div>

                                        </div>

                                    </div>
                                </div>
                                @*End of Add to cart section *@

                                @*Beggining of Add to wishlist section *@
                                <div class="sfAddToWishlistWidget">
                                    <div>
                                        <div>
                                            <div>

                                                <div class="sfAddToWishListLnkWrp"> <a class="sfAddToWishListLnk" href="#" onclick="return false;">add to wish list</a></div>
                                                <div class="sfMessage" style="display: none; ">

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*End of Add to wishlist section *@

                                @*Beggining of Write review section*@
                                <div class="sfProductComments">
                                    <div>
                                        <span></span>
                                        <div id="commentsWidget" class="sfcommentsWrp">
                                            <div class="sfcommentsThreadRatingWrp sfcommentsThreadRatingFull sfRatingReadOnly">
                                                <div class="sfStarsWrapper"></div>
                                                <a href="#" onclick="return false;" class="sfRatingClosingText">Write a review</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @*End of Write review section*@

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>

        .sfproductTitle {
            font-size: 36px;
            margin-top: 20px;
            margin-bottom: 10px;
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
            font-weight: 500;
            line-height: 1.1;
            color: #333;
        }

        .sfproductDescription {
            font-size: 14px;
            line-height: 1.428571429;
            color: #333;
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
        }

        .sfcommentsThreadRatingWrp.sfcommentsThreadRatingFull.sfRatingReadOnly, .sfRatingClosingText, .sfproductPrice {
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
        }

        .sfproductInventory .sfProductInventoryWrp {
            color: #333;
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
        }

        .sfAddToCartWidget > .sfAddToCartWrp {
            font-size: 14px;
            line-height: 1.428571429;
            color: #333;
        }

        .sfAddToWishlistWidget .sfAddToWishListLnkWrp {
            font-size: 14px;
            line-height: 1.428571429;
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
        }

        .sfAddToWishListLnkWrp a:hover {
            color: #23527c;
        }

        a.sfRatingClosingText {
            font-size: 14px;
            line-height: 1.428571429;
        }

            a.sfRatingClosingText:hover {
                text-decoration: underline;
            }

        div.sfproductPrice {
            font-size: 14px;
            line-height: 1.428571429;
        }
    </style>


    if (!SystemManager.IsDesignMode)
    {
        @Html.Script(Url.WidgetContent("assets/dist/javascript/Services/BasketService.js"), "bottom", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/Services/SearchService.js"), "bottom", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/Services/ProductService.js"), "bottom", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/mainController.js"), "bottom", false)
        @Html.Script(Url.WidgetContent("assets/dist/javascript/factory.js"), "bottom", false)
    }
}
