@using System.Web.Mvc
@using System.Web.Mvc.Html
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.UI.MVC;
@using Telerik.Sitefinity.Services;
@using Newtonsoft.Json;

@model UCommerce.Sitefinity.UI.Mvc.ViewModels.ShippingPickerViewModel
@{
    Layout = null;
}

@if (!SystemManager.IsDesignMode)
{
    @Html.Script(Url.WidgetContent("assets/build/js/vendor.bundle.js"), "bottom", false)
    @Html.Script(Url.WidgetContent("assets/build/js/main.js"), "bottom", false)
}


<h3>Shipping method</h3>
<div data-component="shipping-widget" id="shipping-method">
    <script type="application/json" data-items="true">
        { "model" : @Html.Raw(JsonConvert.SerializeObject(Model)) }
    </script>
    <form action="/shop/checkout/shipping/CreateShipment" method="POST" name="ShippingPicker">
        <template v-if="model.AvailableShippingMethods.length">
            <template v-for="method in model.AvailableShippingMethods" :model="model">
                <div>
                    <label>
                        <input id="SelectedShippingMethodId" name="SelectedShippingMethodId" type="radio" :value="method.Value" :checked="method.Value == model.SelectedShippingMethodId"> {{ method.Text }}
                    </label>
                </div>
            </template>
            <checkout-navigation v-bind:model="model" continue-label="Continue to next step" classes=""></checkout-navigation>
        </template>
        <template v-else>
            <p>
                WARNING: No shipping methods have been configured for {{ model.ShippingCountry }} within <a href="http://ucommerce.dk">UCommerce</a> administration area.
            </p>
        </template>
    </form>
</div>